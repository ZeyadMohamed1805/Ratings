<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="./images/favicon-32x32.png">
    <link href="https://fonts.googleapis.com/css2?family=Overpass:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./Sass/style.css">
    <title>Ratings</title>
</head>
<body>
    <div id="container">
        <main>
            <form id="submit">
                <img src="./images/icon-star.svg" alt="Star Icon">
                <h1>How did we do?</h1>
                <p>Please let us know how we did with your support request. All feedback is appreciated to help us improve our offering!</p>
                <fieldset id="ratings">
                    <div>
                        <input name="radio" type="radio" id="rating-one" value="1">
                        <label id="1" class="stars" for="rating-one">1</label>
                    </div>
                    <div>
                        <input name="radio" type="radio" id="rating-two" value="2">
                        <label id="2" class="stars" for="rating-two">2</label>
                    </div>
                    <div>
                        <input name="radio" type="radio" id="rating-three" value="3">
                        <label id="3" class="stars" for="rating-three">3</label>
                    </div>
                    <div>
                        <input name="radio" type="radio" id="rating-four" value="4">
                        <label id="4" class="stars" for="rating-four">4</label>
                    </div>
                    <div>
                        <input name="radio" type="radio" id="rating-five" value="5">
                        <label id="5" class="stars" for="rating-five">5</label>
                    </div>
                </fieldset>
                <p id="message">Please rate us before submitting...</p>
                <button>SUBMIT</button>
            </form>
            <div id="thanks">
                <img src="./images/illustration-thank-you.svg" alt="Thanks Image">
                <a id="selected"></a>
                <h1>Thank you!</h1>
                <p>We appreciate you taking the time to give a rating. If you ever need more support, don't hesitate to get in touch!</p>
            </div>
        </main>
    </div>
    <script>

        // Variables

        const labels = document.querySelectorAll("label");
        const button = document.querySelector("button");
        const selected = document.querySelector("#selected");
        const message = document.querySelector("#message");
        const thanks = document.querySelector("#thanks");
        const main = document.querySelector("main");

        // Submit Event

        button.addEventListener("click", (e) => {
            e.preventDefault();

            let id;
            labels.forEach(label => {
                let style = getComputedStyle(label).backgroundColor;

                if (style == "rgb(251, 116, 19)") {
                    id = Number(label.getAttribute("id"));
                    console.log(id);
                }
            });

            
            if (id == null) {
                message.style.display = "block";
            } else {
                selected.textContent = `You selected ${id} out of 5`;

                main.style.transform = "rotateY(180deg)";

                setTimeout(() => {
                    submit.style.display = "none";
                    thanks.style.transform = "rotateY(180deg)";
                    thanks.style.display = "flex";
                }, 125);
            }
        });
    </script>
</body>
</html>